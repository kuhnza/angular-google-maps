"use strict";angular.module("google.maps").directive("gMap",["$window",function(a){return{restrict:"A",scope:{markerConfigs:"=markers",options:"=?"},link:function(b,c){function d(a,c){var d,i=new g.LatLngBounds;_.each(c,function(b,c){a[c]||f(c)}),_.each(a,function(a,c){if(_.isArray(b.markerConfigs)&&!_.has(a,"id"))throw"Markers must include an id property when passed in an array.";a.id=a.id||c,d=e(a),i.extend(d.getPosition())}),h.fitBounds(i)}function e(a){var b=a.id;return i[b]?i[b].setOptions(a):i[b]=new g.Marker(a),i[b].setMap(h),i[b]}function f(a){i[a].setMap(null),delete i[a]}var g=a.google.maps,h=new g.Map(c[0],b.options),i={};d(),b.$watch("markerConfigs",d,!0)}}}]);